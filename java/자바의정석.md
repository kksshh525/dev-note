



## 쓰레드 동기화 

-   멀티 쓰레드 프로세스의 경우 여러 쓰레드가 같은 프로세스 내의 자원을 공유해서 작업하기 때문에 서로의 작업의 영향을 준다. 
-   이러한 일을 방지하기 위해서 한 쓰레드가 특정 작업을 끝마치기 전에 다른 쓰레드에 의해 방해받지 않도록 하는 것이 필요하다. 
    -   도입된 개념이 바로 '임계영역(critical section)'과 잠금(lock)이다. 
-   한 쓰레드가 진행중인 작업을 다른 쓰레드가 간섭하지 못하도록 막는 것을 **쓰레드의 동기화** 라 한다.



### synchronized를 이용한 동기화 

```java
	// 1. 메서드 전체 임계영역 지정
	public synchronized void sum(){
    	//..임계영역
	}

	// 2. 특정 영역을 지정
	synchronized(객체의 참조변수){
        
    }
```

첫번째 방법은 메서드 앞에 `synchronized`를 붙이고, 메서드 전체가 임계영역으로 설정된다. 쓰레드는 synchronized 메서드가 호출된 시점부터 해당 메서드가 포함된 객체의 lock을 얻어 작업을 수행하다가 메서드가 종료되면 락을 반환한다.

두번째 방법은 메서드내의 코드 일부를 블럭 {} 으로 감싸고 블럭앞에 synchronized 키워드를 붙인다. 이 때 참조변수는 락을 걸고자 하는 객체를 참조하는 것이어야 한다. 이 블럭 영역 안에 들어가면 쓰레드는 지정된 객체의 락을 얻고, 이블럭을 벗어나면 락을 반납한다. 

두 가지 방법은 락 획득 반납을 자동으로 해주기 때문에 우리가 할 일은 그저 임계영역만을 설정해 주는 것 뿐이다.



### wait()과 notify()


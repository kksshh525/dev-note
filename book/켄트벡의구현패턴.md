> 켄트벡의 구현 패턴을 읽고 정리한 내용입니다. 





# 3장. 프로그래밍 이론 

새로운 문제가 발생해도 해결책을 찾을 수 있도록 도와준다. 프로그래밍을 어떻게 해야 하고 왜 그렇게 해야 하는지에 대한 이유를 알려 주기 때문이다. 

가치: 모든 프로그래밍에 적용되는 주제

원칙: 가치처럼 언제나 적용되는 것은 아니지만 많은 패턴에서 사용된다. 





## 가치

### 커뮤니케이션

개발자가 코드를 쉽게 이해하고, 수정, 사용할 수 있다면 그 코드는 개발자와 커뮤니케이션을 하고 있다고 이야기 할 수 있다.

프로그램도 책처럼 줄거리가 있어야 하며 리듬감을 지니고 상큼한 표현 등을 지녀야 한다는 것이다. 

기존 코드를 읽고 수정하는 데 걸린 시간이 코드를 새로 짜느라 걸린 시간을 압도한다. 따라서 내가 짜는 코드의 개발 비용을 줄이기 위해서는 이해하기 쉬운 코드를 작성해야 한다. 



### 단순성

프로그래밍을 할 때 해야 할 일 중 하나는 지금까지 짜 놓은 코드를 보고 불필요한 부분을 제거하는 것이다. 

프로그램을 작성하기 위해서는 독자 수준을 고려해야 한다. 독자 수준의에서 약간 어려운 정도라면 괜찮을 수 있지만, 복잡도가 너무 올라가면 다른 사람들이 여러분의 프로그램을 이해할 수 없을 것이다.

**프로그램을 최대한 단순화 하라. 의미 없는 코드를 모두 제거하라. 설계시에도 과도한 요소는 모두 빼고, 요구 사항을 분석해서 꼭 필요한 사항만을 뽑아내라. 과도한 복잡도를 제거하면 코드를 새로운 관점에서 바라 볼 수 있다.**



### 유연성

비효율적인 코딩이나 설계를 정당화 해주는 가치이다. 

프로그램 개발 비용은 대부분 처음 프로그램이 작성된 후부터 들어간다는 점을 생각해 볼때, 프로그램 수정은 가급적 쉬워야 한다. 하지만 당장 필요할 것 같다고 생각했던 유연성이 사실 필요하지 않은 것으로 판명나는 경우도 많다. 



## 원칙

원칙을 명확하게 알고 있다면 새로운 패턴들을 만들어 낼 수 있다. 



### 지역적 변화

코드를 수정할 때 함께 바꿔야 하는 부분을 최소화 하라 



### 최소 중복

중복을 없애는 한 가지 방법은 프로그램을 여러 작은 부분, 짧은 구문, 짧은 메서드, 작은 객체 , 작은 패키지로 나누는 것이다. 



### 로직과 데이터의 결합 

지역적 변화의 원칙에 근거한 다른 원칙은 로직과 데이터를 함께 유지하는 것이다. 

프로그램을 수정해야 하는 경우, 로직과 데이터를 모두 고쳐야 할 경우가 많다. 



### 대칭성

예를 들면 add() 메서드가 있는 곳에 remove() 메서드가 있다. 같은 객체 안에 있는 모든 필드는 함께 생성되어 함께 소멸된다. 프로그램의 절반만 이해마녀 나머지 절반은 자연스럽게 이해되기 때문이다. 



### 선언적 표현

명령형 프로그래밍은 강력하고 유연하지만 프로그램을 이해하기 위해서는 수행 흐름을 따라가야 한다. 



### 변화율

함께 변하는 로직과 데이터를 ㅎ마께 관리하고, 변화율이 다른 로직과 데이터는 분리 하는 것이다. 변화율은 시간적 대칭성으로 볼 수 있다. 



# 4장 동기유발

소프트웨어 개발비용은 최초 개발비용과 유지 비용으로 구분할 수 있다.

전체 비용 = 개발 비용 + 유지 비용

유지비용= 이해 비용 + 수정 비용 + 테스트 비용 + 설치 비용

비용절감 전략은 모든 프로그래머가 커뮤니케이션 하기 쉬운 코드를 짬으로써 유지 비용을 줄이는 것이다. 이 경우 깔끔한 코드를 통해 코드의 결함이 줄어들고 코드 공유가 쉬워져서 좀더 원활한 개발이 가능해 진다. 

여러 구현 패턴을 사용하는 것이 습과화 되면, 필요 없는 고민을 하는 시간이 줄어들어서 코드 작성 속도가 빨라진다. 



# 5장 클래스 

클래스는 비슷한 성질을 가진 것을 총칭하며, 객체는 클래스가 구체화 된 것이다.



### 클래스 



### 단순한 상위 클래스 이름 

이름 중에서도 가장 중요한 것이 클래스 이름이다. 



### 한정적 하위 클래스 이름

간결성은 포기하더라도, 표현성을 택하는 편이 낫다. 



### 추상 인터페이스

소프트웨어 개발에 관한 오랜 격언 중 하나로, 구현이 아니라 인터페이스에 맞춰 코딩하라는 말이 있다. 이는 설계상의 결정을 필요 이상으로 노출하지 말라는 뜻이다. 

'인터페이스' 란 '구현이 빠진 여러 연산의 집합'을 의미한다. 



### 인터페이스

자바 인터페이스를 사용하는 것은 '여기까지가 내가 원하는 것이고, 이외의 내용은 상관하지 않는다'라고 이야기 하는 것과 같다. **인터페이스는 다중 상속의 유연성을 제공하면서도 복잡성과 모호성을 갖고 있지 않은 적절하게 균형이 잡힌 메커니즘이다.**

인터페이스를 사용하면 구현을 바꾸는 것은 쉽지만, 인터페이스 자체를 바꾸기는 쉽지 않다. 인터페이스를 조금이라도 바꾸거나 추가하, 그 인터페이스를 구현하는 모든 클래스를 수정해야 하기 때문이다. 

인터페이스 이름을 짓는 방법 크게 2가지 

1. 인터페이스 구현이 빠져있는 클래스로 간주하는 경우, 클래스와 같은 방법을 사용해서 이름을 지으면 된다. 하지만 좋은 이름을 모두 인터페이스에 사용해버려서 막상 클래스에 사용할 수 잇는 이름의 수가 적어지는 단점이 생길 수 잇다. 
2. 구상 클래스의 이름을 간결하게 짓는 것이 인터페이스 사용을 숨기는 것보다 코드 커뮤니케이션에 있어 중요한 경우가 있다. 
   1. 인터페이스 이름이 IFile 이면 File을 사용할 수 있다. 



### 추상 클래스 

자바에서는 추상 인터페이스 와 실제 구현의 차이를 나타내는 다른 방법은 상위클래스를 사용하는 것이다. 여기에서 상위클래스는 런타임에 어떤 하위 클래스로 교체될지도 모른다는 의미에서 추상적이다. 

결국 추상 클래스와 자바 인터페이스의 장단점은 인터페이스 수정의 용이성과 단일 클래스가 여러 인터페이스를 지원할 수 있는지 여부로 귀결된다. 

추상 클래스에는 이런 문제가 없다. 기본 구현을 사용할 수 있는 길이 열려 있는 한, 기존 설계를 망가뜨리지 않고 새로운 연산을 얼마든지 추가할 수 있다. 

단점은 각 클래스가 단 1개의 상위클래스만을 지정 할 수 있다. 

인터페이스 계층과 클래스 계층은 서로 배타적인 것이 아니다. 인터페이스를 통해 "이 기능을 이렇게 사용하세요"라고 전달하고, 상위클래스를 통해 "이 기능을 이렇게 구현해봤습니다"라고 전달하는 것도 가능하다. 